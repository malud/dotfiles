#!/usr/bin/env bash
{{ if ne .chezmoi.os "darwin" -}}
set -euo pipefail

# Check if Homebrew is already installed
if command -v brew &>/dev/null; then
  echo "‚úÖ Homebrew already installed"
  exit 0
fi

echo "üì¶ Installing Homebrew on Linux..."

# Install Homebrew
NONINTERACTIVE=1 /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# Add Homebrew to PATH for this session
if [ -f /home/linuxbrew/.linuxbrew/bin/brew ]; then
  eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"
fi

echo "‚úÖ Homebrew installed successfully!"
echo "‚ÑπÔ∏è  Homebrew will be available after restarting your shell"

{{ else -}}
echo "‚ÑπÔ∏è  Homebrew installation for Linux - skipping on macOS"
exit 0
{{ end -}}

